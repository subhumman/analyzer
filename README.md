# File handler
CLI утилита для управления файловой системой с возможностью анализа текстового содержимого и ведения журнала операций.
оно представляет собой интерактивную систему управления файлами, реализованную на языке C++ с использованием стандарта C++17. Приложение предоставляет функциональность для создания, переименования, изменения расширений, удаления файлов, а также анализа текстового содержимого с подсчетом символов.

## Архитектура

Проект построен на модульной архитектуре с четким разделением ответственности:

- **Executor** - основной компонент управления командами и координации между модулями
- **Lexer** - лексический анализатор для парсинга пользовательских команд
- **DataSaver** - модуль персистентности данных с использованием JSON формата
- **CLI** - интерфейс командной строки для взаимодействия с пользователем

## Требования к системе

### Минимальные требования
- **CMake**: версия 3.14 или выше
- **Компилятор C++**: поддерживающий стандарт C++17
  - GCC 7.0+
  - Clang 5.0+
  - MSVC 2017+
- **Операционная система**: Windows, Linux, macOS

### Зависимости
- **nlohmann/json**: версия 3.12.0 (автоматически загружается через CPM)

## Сборка проекта

### Подготовка окружения

1. Убедитесь в наличии установленного CMake и совместимого компилятора C++
2. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd analyzer
```

### Компиляция

```bash
mkdir -p build
cd build
cmake ..
cmake --build .
```

### Альтернативная сборка с указанием конфигурации

```bash
mkdir -p build
cd build
cmake -DCMAKE_BUILD_TYPE=Release ..
cmake --build . --config Release
```

## Использование

После успешной компиляции запустите исполняемый файл:

```bash
./analyzer
```
or
```bash
.\analyzer.exe
```

### Доступные команды

| Команда | Синтаксис | Описание |
|---------|-----------|----------|
| `CREATE` | `CREATE <filename>` | Создание нового файла |
| `RENAME` | `RENAME <old_name> <new_name>` | Переименование файла |
| `CHTP` | `CHTP <filename> <new_extension>` | Изменение расширения файла |
| `REMOVE` | `REMOVE <filename>` | Удаление файла |
| `HISTORY` | `HISTORY` | Отображение истории операций |
| `WRITE` | `WRITE` | Добавление текста в конец файла |
| `ANAL` | `ANAL` | Анализ текстового файла с подсчетом символов |
| `EXIT` | `EXIT` | Завершение работы приложения |

## Структура проекта

```
analyzer/
├── cmake/
│   └── CPM.cmake          # Модуль управления зависимостями
├── scripts/
│   ├── lib/               # Заголовочные файлы
│   │   ├── cli.hpp
│   │   ├── data_saver.hpp
│   │   ├── executor.hpp
│   │   └── lexer.hpp
│   ├── src/               # Исходный код
│   │   ├── cli.cpp
│   │   ├── data_saver.cpp
│   │   ├── executor.cpp
│   │   └── lexer.cpp
│   └── tests.cpp          # Тестовые сценарии
├── main.cpp               # Точка входа приложения
├── CMakeLists.txt         # Конфигурация сборки
└── README.md              # Документация
```

## Скриншоты
<img width="1364" height="668" alt="image" src="https://github.com/user-attachments/assets/647f0999-6097-4d6d-bf29-d5566bf4a8e2" />
<img width="440" height="46" alt="image" src="https://github.com/user-attachments/assets/55354d20-24a3-4652-b8f1-437a4b43e39a" />

## Особенности реализации

Все операции автоматически записываются в JSON-файл `operations.json` в директории `build/debug/`. Журнал содержит информацию о типе операции, имени файла и статусе выполнения.

### Обработка ошибок
Приложение реализует механизм обработки исключений для обеспечения стабильности работы при некорректных операциях с файловой системой.

### Кроссплатформенность
Код написан с использованием стандартной библиотеки C++17 и filesystem API, что обеспечивает совместимость с различными операционными системами.

## Возможные проблемы

### Проблемы компиляции

#### Несовместимость компиляторов
- **GCC**: При использовании версий ниже 7.0 могут возникать ошибки компиляции, связанные с поддержкой C++17 features
- **Clang**: Версии ниже 5.0 не поддерживают полный набор возможностей C++17
- **MSVC**: Требуется Visual Studio 2017 или новее для корректной работы с filesystem API

#### Проблемы с CMake
- **CMake < 3.14**: Не поддерживает некоторые современные возможности, используемые в проекте
- **Отсутствие CPM**: Модуль CPM.cmake должен присутствовать в директории cmake/

#### Проблемы зависимостей
- **nlohmann/json**: При отсутствии интернет-соединения автоматическая загрузка может завершиться неудачей
- **Сетевые ограничения**: Корпоративные прокси могут блокировать доступ к GitHub для загрузки зависимостей

### Проблемы выполнения

#### Права доступа
- **Windows**: Недостаточные права администратора могут препятствовать созданию файлов в системных директориях
- **Linux/macOS**: Отсутствие прав на запись в рабочую директорию

#### Файловая система
- **Длинные пути**: Windows имеет ограничения на длину пути (260 символов по умолчанию)
- **Специальные символы**: Имена файлов с нестандартными символами могут вызывать проблемы

#### Проблемы памяти
- **Большие файлы**: Анализ файлов размером более 2GB может привести к исчерпанию доступной памяти
- **Фрагментация**: Длительная работа с множественными операциями может вызвать фрагментацию памяти

### Решения проблем

#### Для проблем компиляции
1. Обновите компилятор до совместимой версии
2. Убедитесь в корректности установки CMake
3. Проверьте наличие всех необходимых заголовочных файлов

#### Для проблем выполнения
1. Запустите приложение с правами администратора
2. Проверьте свободное место на диске
3. Убедитесь в корректности путей к файлам

#### Для проблем зависимостей
1. Настройте прокси-сервер для доступа к внешним ресурсам
2. Используйте локальные копии зависимостей
3. Проверьте сетевое соединение

